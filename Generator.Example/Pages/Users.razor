@page "/Users"
@using Generator.Examples.Shared
@using Components.Validators
@{

    if (userList is null) return;

    <MudButton OnClick="TEST">Click</MudButton>

    <GenGrid DataSource="@DataSource.Where(x=> x.U_AGE<20).OrderBy(x=>x.U_AGE).ToList()"
             TModel="USER"
             Title="Users"
             Dense="true"
             MaxWidth="MaxWidth.ExtraLarge"
             EditMode="EditMode.Inline"
             EditTrigger="TableEditTrigger.RowClick"
             EnableSearch="false"
             Disabled="IsDisabled"
             SearchText="Search"
             CancelText="Iptal"
             RowsPerPage="30"
             EnableSorting="false"
             MultiSelection="true"
             Class="m-2"
             Search="async x=> await Search(x)"
             Create="@( async x=> await CreateAsync(x))"
             Update="@( async x=> await UpdateAsync(x))"
             Delete="@( async x=> await DeleteAsync(x))"
             Load="@( x=> Load(x))">
        <GenSearchFields>

            <GenTextField Clearable="true" BindingField="TexFld" Label="Name" Required="true"
                          xs="5" sm="5" md="5" lg="5" xl="5" xxl="5" />

            <GenSpacer xs="2" sm="2" md="2" lg="2" xl="2" xxl="2"></GenSpacer>

            <GenComboBox DataSource="userList.Value"
                         DisplayField="@nameof(USER.U_NAME)"
                         ValueField="@nameof(USER.U_ROWID)"
                         Clearable="true" BindingField="comboField"
                         xs="5" sm="5" md="5" lg="5" xl="5" xxl="5"
                         Label="Peopel" Required="true" />


            <GenDatePicker Clearable="true"
                           BindingField="DateField"
                           xs="5" sm="5" md="5" lg="5" xl="5" xxl="5"
                           Label="DateExample" Required="true" />

            <GenSpacer  xs="2" sm="2" md="2" lg="2" xl="2" xxl="2"></GenSpacer>

           <GenCheckBox  xs="5" sm="5" md="5" lg="5" xl="5" xxl="5"
                         BindingField="CheckBoxText"
                         Label="Test CheckBOx"
                         LabelPosition="LabelPosition.End"
                         TrueText="Evet"
                         FalseText="Hayir" />


        </GenSearchFields>
        <GenColumns>
            <GenTextField BindingField="@nameof(USER.U_ROWID)" EditorEnabled="false" Label="Ref No" />

            <GenTextField BindingField="@nameof(USER.U_NAME)" Label="Name" />

            <GenSpacer xs="12" xl="12" xxl="12" sm="12" md="12" lg="12" />

            <GenTextField BindingField="@nameof(USER.U_LASTNAME)"  
                          Label="Last Name" />

            <GenTextField BindingField="@nameof(USER.U_AGE)" Label="Age" />

            <GenCheckBox BindingField="@nameof(USER.U_IS_MARRIED)" Label="Evli mi" TrueText="Evet" FalseText="Hayir" />

            <GenDatePicker BindingField="@nameof(USER.U_REGISTER_DATE)"
                           DateChanged="x=> OnDateChanged(x)"
                           TransformOrigin="Origin.BottomLeft"
                           Clearable="true" Label=" Reg. Date" />
        </GenColumns>

        <GenDetailGrid>
            <OrdersM Parent="context" />
        </GenDetailGrid>
    </GenGrid>

}
